{"version":3,"sources":["webpack:///./src/views/WorkOrder/Detail.vue?418c","webpack:///src/views/WorkOrder/Detail.vue","webpack:///./src/views/WorkOrder/Detail.vue?3def","webpack:///./src/views/WorkOrder/Detail.vue","webpack:///./src/views/WorkOrder/Detail.vue?97a7","webpack:///./src/utils/fileHelper.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","id","workOrder","title","_m","category","priority","label","toString","appointsTime","content","_l","item","key","uid","staticStyle","attrs","fileUrl","customerName","contactName","address","detailAdd","assigners","length","name","creater","createTime","ref","model","value","callback","$$v","activeName","expression","style","height","tabPaneH","activity","index","des","date","device","staticRenderFns","data","logList","serviceList","computed","created","$route","params","orderList","filter","console","log","logObj","deviceList","init","mounted","$refs","detailRight","clientHeight","methods","$http","post","then","res","component","getObjectURL","file","url","undefined","window","createObjectURL","URL","webkitURL"],"mappings":"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","file":"js/chunk-1248657c.2b9011aa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainPanel\"},[_c('div',{staticClass:\"detailLeft\"},[_c('div',{staticClass:\"orderInfoP1\"},[_vm._v(_vm._s(_vm.id))]),_c('div',{staticClass:\"orderInfoP2\"},[_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"标题：\")]),_c('div',{staticClass:\"itemC line1\"},[_vm._v(_vm._s(_vm.workOrder.title))])]),_vm._m(0),_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"服务项目：\")]),_c('div',{staticClass:\"itemC line1\"},[_vm._v(_vm._s(_vm.workOrder.category))])]),_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"工单优先级：\")]),_c('div',{staticClass:\"itemC line1\"},[_vm._v(_vm._s(_vm.workOrder.priority))])]),_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"工单标签：\")]),_c('div',{staticClass:\"itemC line1\"},[_vm._v(_vm._s(_vm.workOrder.label.toString()))])])]),_c('div',{staticClass:\"orderInfoP2\"},[_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"预约时间：\")]),_c('div',{staticClass:\"itemC line1\"},[_vm._v(_vm._s(_vm.workOrder.appointsTime))])]),_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"详情描述：\")]),_c('div',{staticClass:\"itemC moLine\"},[_vm._v(_vm._s(_vm.workOrder.content))])]),_vm._m(1),_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"现场图片：\")]),_c('div',{staticClass:\"itemC\"},_vm._l((_vm.workOrder.imgs),function(item){return _c('el-image',{key:item.uid,staticStyle:{\"width\":\"50px\",\"height\":\"50px\",\"margin-right\":\"5px\"},attrs:{\"src\":item.fileUrl,\"preview-src-list\":[item.fileUrl]}})}),1)])]),_c('div',{staticClass:\"orderInfoP2\"},[_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"客户名称：\")]),_c('div',{staticClass:\"itemC line1\"},[_vm._v(_vm._s(_vm.workOrder.customerName))])]),_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"预约人：\")]),_c('div',{staticClass:\"itemC moLine\"},[_vm._v(_vm._s(_vm.workOrder.contactName))])]),_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"服务地址：\")]),_c('div',{staticClass:\"itemC moLine\"},[_vm._v(_vm._s(_vm.workOrder.address))])]),_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"详细地址：\")]),_c('div',{staticClass:\"itemC moLine\"},[_vm._v(_vm._s(_vm.workOrder.detailAdd))])])]),_c('div',{staticClass:\"orderInfoP2\"},[_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"服务人员：\")]),_c('div',{staticClass:\"itemC line1\"},[_vm._v(_vm._s(_vm.workOrder.assigners.length > 0 ? _vm.workOrder.assigners[0].name: ''))])])]),_c('div',{staticClass:\"orderInfoP2 orderInfoP3\"},[_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"创建人员：\")]),_c('div',{staticClass:\"itemC line1\"},[_vm._v(_vm._s(_vm.workOrder.creater))])]),_c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"创建时间：\")]),_c('div',{staticClass:\"itemC line1\"},[_vm._v(_vm._s(_vm.workOrder.createTime))])])])]),_c('div',{ref:\"detailRight\",staticClass:\"detailRight\"},[_c('el-tabs',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"工单日志\",\"name\":\"1\"}},[_c('div',{staticClass:\"stepBox\",style:({height: _vm.tabPaneH + 'px'})},[_c('el-timeline',{attrs:{\"reverse\":\"\"}},_vm._l((_vm.logList),function(activity,index){return _c('el-timeline-item',{key:index},[_c('div',{staticClass:\"timeLineBox\"},[_c('div',{staticClass:\"timeLineP2\"},[_c('div',[_vm._v(_vm._s(activity.title))]),_c('div',[_vm._v(_vm._s(activity.des))])]),_c('div',{staticClass:\"timeLineP3\"},[_c('div',[_vm._v(_vm._s(activity.date))])])])])}),1)],1)]),_c('el-tab-pane',{attrs:{\"label\":\"报修设备\",\"name\":\"3\"}},[_c('div',{staticClass:\"stepBox\",style:({height: _vm.tabPaneH + 'px'})},[_c('el-table',{staticClass:\"tableGrow\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.device,\"height\":\"100%\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"设备名称\",\"show-overflow-tooltip\":\"\",\"min-width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"机型\",\"min-width\":\"140\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"show-overflow-tooltip\":\"\",\"label\":\"设备编号\",\"min-width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"position\",\"show-overflow-tooltip\":\"\",\"label\":\"设备位置\",\"min-width\":\"200\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"label\":\"维修状态\",\"min-width\":\"140\"}},[[_vm._v(\"未完成\")]],2)],1)],1)])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"工单模板：\")]),_c('div',{staticClass:\"itemC line1\"},[_vm._v(\"售后报修\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderInfoP2Item\"},[_c('div',{staticClass:\"itemT\"},[_vm._v(\"邮箱地址：\")]),_c('div',{staticClass:\"itemC line1\"},[_vm._v(\"-\")])])}]\n\nexport { render, staticRenderFns }","<!--\r\n * @Author: huangyh\r\n * @Date: 2022-01-04 10:46:14\r\n * @LastEditors: huangyh\r\n * @LastEditTime: 2022-03-07 15:01:32\r\n-->\r\n<template>\r\n  <div class=\"mainPanel\">\r\n    <div class=\"detailLeft\">\r\n      <div class=\"orderInfoP1\">{{id}}</div>\r\n      <div class=\"orderInfoP2\">\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">标题：</div>\r\n          <div class=\"itemC line1\">{{ workOrder.title }}</div>\r\n        </div>\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">工单模板：</div>\r\n          <div class=\"itemC line1\">售后报修</div>\r\n        </div>\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">服务项目：</div>\r\n          <div class=\"itemC line1\">{{ workOrder.category }}</div>\r\n        </div>\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">工单优先级：</div>\r\n          <div class=\"itemC line1\">{{ workOrder.priority }}</div>\r\n        </div>\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">工单标签：</div>\r\n          <div class=\"itemC line1\">{{ workOrder.label.toString() }}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"orderInfoP2\">\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">预约时间：</div>\r\n          <div class=\"itemC line1\">{{ workOrder.appointsTime }}</div>\r\n        </div>\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">详情描述：</div>\r\n          <div class=\"itemC moLine\">{{ workOrder.content }}</div>\r\n        </div>\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">邮箱地址：</div>\r\n          <div class=\"itemC line1\">-</div>\r\n        </div>\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">现场图片：</div>\r\n          <div class=\"itemC\">\r\n            <el-image v-for=\"item in workOrder.imgs\" :key=\"item.uid\" style=\"width: 50px; height: 50px;margin-right: 5px;\" :src=\"item.fileUrl\" :preview-src-list=\"[item.fileUrl]\"></el-image>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"orderInfoP2\">\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">客户名称：</div>\r\n          <div class=\"itemC line1\">{{ workOrder.customerName }}</div>\r\n        </div>\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">预约人：</div>\r\n          <div class=\"itemC moLine\">{{ workOrder.contactName }}</div>\r\n        </div>\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">服务地址：</div>\r\n          <div class=\"itemC moLine\">{{ workOrder.address }}</div>\r\n        </div>\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">详细地址：</div>\r\n          <div class=\"itemC moLine\">{{ workOrder.detailAdd }}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"orderInfoP2\">\r\n        <!-- <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">服务团队：</div>\r\n          <div class=\"itemC line1\">{{ workOrder.assigners.length && workOrder.assigners[0].team }}</div>\r\n        </div>-->\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">服务人员：</div>\r\n          <div class=\"itemC line1\">{{ workOrder.assigners.length > 0 ? workOrder.assigners[0].name: '' }}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"orderInfoP2 orderInfoP3\">\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">创建人员：</div>\r\n          <div class=\"itemC line1\">{{ workOrder.creater}}</div>\r\n        </div>\r\n        <div class=\"orderInfoP2Item\">\r\n          <div class=\"itemT\">创建时间：</div>\r\n          <div class=\"itemC line1\">{{ workOrder.createTime }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"detailRight\" ref=\"detailRight\">\r\n      <el-tabs v-model=\"activeName\">\r\n        <el-tab-pane label=\"工单日志\" name=\"1\">\r\n          <div class=\"stepBox\" :style=\"{height: tabPaneH + 'px'}\">\r\n            <el-timeline reverse>\r\n              <el-timeline-item v-for=\"(activity, index) in logList\" :key=\"index\">\r\n                <div class=\"timeLineBox\">\r\n                  <div class=\"timeLineP2\">\r\n                    <div>{{activity.title}}</div>\r\n                    <div>{{activity.des}}</div>\r\n                  </div>\r\n                  <div class=\"timeLineP3\">\r\n                    <div>{{activity.date}}</div>\r\n                  </div>\r\n                </div>\r\n              </el-timeline-item>\r\n            </el-timeline>\r\n          </div>\r\n        </el-tab-pane>\r\n        <!-- <el-tab-pane label=\"服务进度\" name=\"2\">\r\n          <div class=\"stepBox\" :style=\"{height: tabPaneH + 'px'}\">\r\n            <el-timeline reverse>\r\n              <el-timeline-item v-for=\"(activity, index) in serviceList\" :key=\"index\">\r\n                <div class=\"timeLineBox\">\r\n                  <div class=\"timeLineP2\">\r\n                    <div>{{activity.title}}</div>\r\n                  </div>\r\n                  <div class=\"timeLineP3\">\r\n                    <div>{{activity.date}}</div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"timeLineBox2\">\r\n                  <div class=\"timeLineItem\" v-show=\"activity.add != ''\">\r\n                    <div class=\"timeLineLe\">签到地址</div>\r\n                    <div class=\"timeLineRi\">{{activity.add}}</div>\r\n                  </div>\r\n                   <div class=\"timeLineItem\" v-show=\"activity.person != ''\">\r\n                    <div class=\"timeLineLe\">负责人</div>\r\n                    <div class=\"timeLineRi\">{{activity.person}}</div>\r\n                  </div>\r\n                   <div class=\"timeLineItem\" v-show=\"activity.result != ''\">\r\n                    <div class=\"timeLineLe\">处理结果</div>\r\n                    <div class=\"timeLineRi\">{{activity.result}}</div>\r\n                  </div>\r\n                </div>\r\n              </el-timeline-item>\r\n            </el-timeline>\r\n          </div>\r\n        </el-tab-pane>-->\r\n        <el-tab-pane label=\"报修设备\" name=\"3\">\r\n          <div class=\"stepBox\" :style=\"{height: tabPaneH + 'px'}\">\r\n            <el-table :data=\"device\" style=\"width: 100%\" height=\"100%\" class=\"tableGrow\">\r\n              <el-table-column prop=\"name\" label=\"设备名称\" show-overflow-tooltip min-width=\"200\">\r\n              </el-table-column>\r\n              <el-table-column prop=\"type\" label=\"机型\" min-width=\"140\" />\r\n              <el-table-column prop=\"id\" show-overflow-tooltip label=\"设备编号\" min-width=\"200\" />\r\n              <el-table-column prop=\"position\" show-overflow-tooltip label=\"设备位置\" min-width=\"200\" />\r\n              <el-table-column  show-overflow-tooltip label=\"维修状态\" min-width=\"140\">\r\n                <template >未完成</template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </div>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { dataURItoBlob } from \"@/utils/fileHelper\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      id: \"\",\r\n      workOrder: {},\r\n      activeName: \"1\",\r\n      tabPaneH: 0,\r\n      logList: [\r\n        {\r\n          title: \"分单\",\r\n          date: \"2022-01-04 15:03:04\",\r\n          des: \"系统自动分单给承办部门\",\r\n        },\r\n        {\r\n          title: \"抄送\",\r\n          date: \"2022-01-04 15:03:04\",\r\n          des: \"系统自动抄送给[李四]\",\r\n        },\r\n        {\r\n          title: \"创建\",\r\n          date: \"2022-01-04 15:03:04\",\r\n          des: \"系统管理员[张三]创建了工单\",\r\n        },\r\n        {\r\n          title: \"指派\",\r\n          date: \"2022-01-04 17:25:18\",\r\n          des: \"系统管理员[张三]把工单指派给服务人员[王五]\",\r\n        },\r\n      ],\r\n      serviceList: [\r\n        {\r\n          title: \"开始服务\",\r\n          date: \"2022-01-04 15:03:04\",\r\n          add: \"福建省厦门市思明区观日路54号\",\r\n          person: \"\",\r\n          result: \"\",\r\n        },\r\n        {\r\n          title: \"维修进度\",\r\n          date: \"2022-01-04 16:03:04\",\r\n          add: \"\",\r\n          person: \"[王五]，进度填写人[马六]\",\r\n          result: \"修为完成\",\r\n        },\r\n        {\r\n          title: \"服务完成\",\r\n          date: \"2022-01-04 17:03:04\",\r\n          add: \"福建省厦门市思明区观日路54号\",\r\n          person: \"\",\r\n          result: \"\",\r\n        },\r\n      ],\r\n      device:[]\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"orderList\", \"logObj\",\"deviceList\"]),\r\n  },\r\n  created() {\r\n    this.id = this.$route.params.id;\r\n    this.workOrder = this.orderList.filter((i) => i.id == this.id)[0];\r\n    console.log(\"AutoConsole: created -> this.workOrder\", this.workOrder);\r\n    this.logList = this.logObj[this.id];\r\n    this.device = this.deviceList.filter(i=>i.id == this.workOrder.deviceId)\r\n    this.init();\r\n  },\r\n  mounted() {\r\n    this.tabPaneH = this.$refs.detailRight.clientHeight - 40;\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.$http.post(\"/biz/getDepartmentUserBasicInfo\").then((res) => {\r\n        console.log(\"AutoConsole: init -> res\", res);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.mainPanel {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  height: 100%;\r\n  overflow: auto;\r\n  .detailLeft {\r\n    width: 30%;\r\n    min-height: 100%;\r\n    border-right: 1px solid gainsboro;\r\n    padding-right: 10px;\r\n    .orderInfoP1 {\r\n      padding-bottom: 20px;\r\n      border-bottom: 1px dashed gainsboro;\r\n    }\r\n    .orderInfoP2 {\r\n      padding: 20px 0;\r\n      border-bottom: 1px dashed gainsboro;\r\n      .orderInfoP2Item {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        padding: 10px 0;\r\n        .itemT {\r\n          width: 30%;\r\n        }\r\n        .itemC {\r\n          width: 70%;\r\n        }\r\n        .line1 {\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n          overflow: hidden;\r\n        }\r\n        .moLine {\r\n          word-break: break-all;\r\n        }\r\n      }\r\n    }\r\n    .orderInfoP3 {\r\n      border-width: 0;\r\n    }\r\n  }\r\n  .detailRight {\r\n    width: 69%;\r\n    height: 100%;\r\n    .stepBox {\r\n      overflow: auto;\r\n    }\r\n    .timeLineBox {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      .timeLineP2 {\r\n        width: 70%;\r\n      }\r\n      .timeLineP3 {\r\n        width: 30%;\r\n        text-align: right;\r\n      }\r\n    }\r\n    .timeLineBox2 {\r\n      width: 100%;\r\n      .timeLineItem {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        width: 100%;\r\n        .timeLineLe {\r\n          width: 20%;\r\n        }\r\n        .timeLineRi {\r\n          width: 80%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=00fa3b32&scoped=true&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=00fa3b32&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00fa3b32\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=00fa3b32&lang=scss&scoped=true&\"","export function getVideoBase64(url) {\n  return new Promise(function(resolve, reject) {\n    let dataURL = '';\n    const video = document.createElement('video');\n    video.setAttribute('crossOrigin', 'anonymous'); // 处理跨域\n    video.setAttribute('src', url);\n    video.setAttribute('width', 420);\n    video.setAttribute('height', 360);\n    video.muted = true;\n    video.addEventListener('loadeddata', function() {\n      setTimeout(() => {\n        const canvas = document.createElement('canvas');\n        const width = video.width; // canvas的尺寸和图片一样\n        const height = video.height;\n        canvas.width = width;\n        canvas.height = height;\n        canvas.getContext('2d').drawImage(video, 0, 0, width, height); // 绘制canvas\n        dataURL = canvas.toDataURL('image/jpeg'); // 转换为base64\n        video.pause();\n        resolve(dataURL);\n      }, 200);\n    });\n    video.play();\n  });\n}\nexport function getObjectURL(file) {\n  var url = null;\n  if (window.createObjectURL != undefined) {\n    // basic\n    url = window.createObjectURL(file);\n  } else if (window.URL != undefined) {\n    // mozilla(firefox)\n    url = window.URL.createObjectURL(file);\n  } else if (window.webkitURL != undefined) {\n    // webkit or chrome\n    url = window.webkitURL.createObjectURL(file);\n  }\n  return url;\n}\nexport function dataURItoBlob(base64Data) {\n  let byteString;\n  if (base64Data.split(',')[0].indexOf('base64') >= 0) { byteString = atob(base64Data.split(',')[1]); } else byteString = unescape(base64Data.split(',')[1]);\n  const mime = base64Data\n    .split(',')[0]\n    .split(':')[1]\n    .split(';')[0];\n  const ia = new Uint8Array(byteString.length);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ia], { type: mime });\n}\n"],"sourceRoot":""}